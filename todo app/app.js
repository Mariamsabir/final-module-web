var firebaseConfig={apiKey:"AIzaSyAOFZGJ1CHuY1CWD0qb2GYr9Tq39NtTwY8",authDomain:"todoapp-2574a.firebaseapp.com",databaseURL:"https://todoapp-2574a-default-rtdb.firebaseio.com",projectId:"todoapp-2574a",storageBucket:"todoapp-2574a.firebasestorage.app",messagingSenderId:"807369443905",appId:"1:807369443905:web:6ad84c7ef340f93f58d4c0"},app=firebase.initializeApp(firebaseConfig),database=firebase.database();function createListItem(e,t){document.createElement("li"),document.getElementById("todoList")}function addbtn(){if(""!==todoinput.value.trim()){var e=firebase.database().ref("todos").push().key,t=document.createElement("li"),a=document.getElementById("todoList"),o=document.createElement("span");o.textContent=todoinput.value;var n=document.createElement("button");n.textContent="Delete",n.setAttribute("data-key",e),n.setAttribute("onclick","deleteItem(this)");var d=document.createElement("button");d.textContent="Edit",d.setAttribute("data-key",e),d.setAttribute("onclick","editItem(this)"),t.appendChild(o),t.appendChild(n),t.appendChild(d),a.appendChild(t);var i={text:todoinput.value,key:e};firebase.database().ref("todos/"+e).set(i);var r=document.getElementById("todoinput"),s=document.createElement("li");s.textContent=todoinput.value,s.setAttribute("data-key",e),r.appendChild(s),todoinput.value=""}else alert("Required field is missing")}function delbtn(){document.getElementById("todoList").innerText="",firebase.database().ref("todos").remove(),document.getElementById("todoList").innerHTML=""}function deleteItem(e){var t=e.getAttribute("data-key");e.parentNode.remove(),firebase.database().ref("todos/"+t).remove(),document.querySelectorAll("#tasksList li").forEach((function(e){e.getAttribute("data-key")===t&&e.remove()}))}function editItem(e){var t=e.getAttribute("data-key"),a=prompt("Enter new text");null!==a&&""!==a.trim()&&(e.parentNode.querySelector("span").textContent=a,firebase.database().ref("todos/"+t).update({text:a}),document.querySelectorAll("#tasksList li").forEach((function(e){e.getAttribute("data-key")===t&&(e.textContent=a)})))}function getData(){console.log(key.value)}console.log(database),firebase.database().ref("todos").on("child_added",(function(e){createListItem(e.key,e.val().text)}));